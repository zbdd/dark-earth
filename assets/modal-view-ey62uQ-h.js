import{C as u,T as w,S as y,G as b}from"./index-C7hYpspr.js";import{S as m,g as C}from"./sound-manager-CRV64vta.js";const T=l=>{const{text:c,onClick:d}=l,s=l.borderSize??20,h=l.fontSize??64,a=new u;a.label=`${c}-ui-button`,a.eventMode="static";const o=new w;o.style={fontFamily:"alagard",fontSize:h,fontWeight:"bold",fill:"orange",align:"center",stroke:"black"},o.text=c,o.position.set(s,s);const t=y.from("text-background.png");t.label="button-background",t.width=o.width+s*2,t.height=o.height+s*2;const e=new b;return e.label="button-outline",e.rect(0,0,t.width,t.height),e.stroke({color:"black",width:6}),l.disableBackground&&(t.alpha=0,e.alpha=0),a.addChild(t,e,o),a.pivot.set(t.width*.5,t.height*.5),a.on("pointertap",()=>{if(d){m.play("audio/sfx/click.wav");const n={x:a.scale.x,y:a.scale.y};a.scale.set(n.x*.9,n.y*.9),setTimeout(()=>{a.scale.set(n.x,n.y)},115),setTimeout(()=>{d()},300)}}),a},k=l=>{const{spriteName:c,onClick:d}=l,{disableFlicker:s=!1}=l,h=l.onClickAudio??"select",a=l.alpha??.5,o=new u;o.label=`${c}-icon`,o.eventMode="static";const t=new b;t.circle(0,0,32),t.stroke({color:"khaki",width:4}),t.fill("khaki"),t.alpha=a,t.position.set(16,16),o.addChild(t);const e=y.from(`${c}.png`);return e.anchor.set(0),e.width=32,e.height=32,o.addChild(e),o.on("pointertap",()=>{d&&(d(),s||(t.alpha=1,C.delayedCall(.1,()=>t.alpha=a)),h!==""&&m.play(`audio/sfx/${h}.wav`,{category:"ui"}))}),o.scale.set(.8),o},z=({title:l,type:c,content:d,contentStyle:s,onClose:h,onConfirm:a,onCancel:o})=>{const t=new u,e=20;t.label="simple-modal",t.eventMode="static";const n=new w;n.text=l,n.style={fill:"white",fontSize:26,fontWeight:"bold",fontFamily:"alagard"},n.anchor.set(.5),n.position.set(0,0),t.addChild(n);const r=new w;r.style={fill:"white",fontSize:20,fontFamily:"alagard"},r.anchor.set(.5),r.text=c,r.position.set(0,n.height),t.addChild(r);const i=new w;i.text=d,i.style={fill:"white",fontSize:20,wordWrap:!0,wordWrapWidth:300,fontFamily:"alagard",...s},i.anchor.set(.5),i.position.set(0,r.y+r.height+i.height*.5),t.addChild(i);const p=k({spriteName:"confirm-icon",onClick:()=>{a&&a()}});p.position.set(i.x-i.width*.5+e*2,i.y+i.height+e),t.addChild(p);const g=k({spriteName:"cancel-icon",onClick:()=>{o&&o()}});g.position.set(i.x+i.width*.5-g.width-e,i.y+i.height+e),t.addChild(g),p.visible=a!==void 0,g.visible=o!==void 0;const x=p.visible?p.y+p.height:g.visible?g.y+g.height:i.y+i.height,f=new b;return f.rect(i.x-i.width*.5-e,n.y-n.height*.5-e,i.width+e*2,x+e*2),f.fill("maroon"),f.stroke({color:"black",width:3}),t.addChildAt(f,0),h&&t.on("pointertap",h),t};export{z as a,k as b,T as c};

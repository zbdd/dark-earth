import{C as u,T as w,S as y,G as b}from"./index-BLu6MguJ.js";import{S as m,g as C}from"./sound-manager-DLTEGR_G.js";const T=l=>{const{text:s,onClick:d}=l,c=l.borderSize??20,r=l.fontSize??64,o=new u;o.label=`${s}-ui-button`,o.eventMode="static";const a=new w;a.style={fontFamily:"alagard",fontSize:r,fontWeight:"bold",fill:"orange",align:"center",stroke:"black"},a.text=s,a.position.set(c,c);const t=y.from("text-background.png");t.label="button-background",t.width=a.width+c*2,t.height=a.height+c*2;const e=new b;return e.label="button-outline",e.rect(0,0,t.width,t.height),e.stroke({color:"black",width:6}),l.disableBackground&&(t.alpha=0,e.alpha=0),o.addChild(t,e,a),o.pivot.set(t.width*.5,t.height*.5),o.on("pointertap",()=>{if(d){m.play("audio/sfx/click.wav");const n={x:o.scale.x,y:o.scale.y};o.scale.set(n.x*.9,n.y*.9),setTimeout(()=>{o.scale.set(n.x,n.y)},115),setTimeout(()=>{d()},300)}}),o},k=l=>{const{spriteName:s,onClick:d}=l,{disableFlicker:c=!1}=l,r=l.onClickAudio??"select",o=l.alpha??.5,a=new u;a.label=`${s}-icon`,a.eventMode="static";const t=new b;t.circle(0,0,32),t.stroke({color:"khaki",width:4}),t.fill("khaki"),t.alpha=o,t.position.set(16,16),a.addChild(t);const e=y.from(`${s}.png`);return e.anchor.set(0),e.width=32,e.height=32,a.addChild(e),a.on("pointertap",()=>{d&&(d(),c||(t.alpha=1,C.delayedCall(.1,()=>t.alpha=o)),r!==""&&m.play(`audio/sfx/${r}.wav`,{category:"ui"}))}),a.scale.set(.8),a},z=({title:l,type:s,content:d,contentStyle:c,onClose:r,onConfirm:o,onCancel:a})=>{const t=new u,e=20;t.label="simple-modal",t.eventMode="static";const n=new w;n.text=l,n.style={fill:"white",fontSize:26,fontWeight:"bold",fontFamily:"alagard"},n.anchor.set(.5),n.position.set(0,0),t.addChild(n);const h=new w;h.style={fill:"white",fontSize:20,fontFamily:"alagard"},h.anchor.set(.5),h.text=s,h.position.set(0,n.height),t.addChild(h);const i=new w;i.text=d,i.style={fill:"white",fontSize:20,wordWrap:!0,wordWrapWidth:300,fontFamily:"alagard",...c},i.anchor.set(.5),i.position.set(0,h.y+h.height+i.height*.5),t.addChild(i);const p=k({spriteName:"confirm-icon",onClick:()=>{o&&o()}});p.position.set(i.x-i.width*.5+e*2,i.y+i.height+e),t.addChild(p);const g=k({spriteName:"cancel-icon",onClick:()=>{a&&a()}});g.position.set(i.x+i.width*.5-g.width-e,i.y+i.height+e),t.addChild(g),p.visible=o!==void 0,g.visible=!0;const x=p.visible?p.y+p.height:g.visible?g.y+g.height:i.y+i.height,f=new b;return f.rect(i.x-i.width*.5-e,n.y-n.height*.5-e,i.width+e*2,x+e*2),f.fill("maroon"),f.stroke({color:"black",width:3}),t.addChildAt(f,0),r&&t.on("pointertap",r),t};export{z as a,k as b,T as c};

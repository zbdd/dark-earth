import{C as u,T as f,S as k,G as b}from"./index-C6-RUYEi.js";import{S as m,g as C}from"./sound-manager-CyoGaLbZ.js";const T=l=>{const{text:c,onClick:d}=l,s=l.borderSize??20,r=l.fontSize??64,o=new u;o.label=`${c}-ui-button`,o.eventMode="static";const a=new f;a.style={fontFamily:"alagard",fontSize:r,fontWeight:"bold",fill:"orange",align:"center",stroke:"black"},a.text=c,a.position.set(s,s);const t=k.from("text-background.png");t.label="button-background",t.width=a.width+s*2,t.height=a.height+s*2;const i=new b;return i.label="button-outline",i.rect(0,0,t.width,t.height),i.stroke({color:"black",width:6}),o.addChild(t,i,a),o.pivot.set(t.width*.5,t.height*.5),o.on("pointertap",()=>{if(d){m.play("audio/sfx/click.wav");const n={x:o.scale.x,y:o.scale.y};o.scale.set(n.x*.9,n.y*.9),setTimeout(()=>{o.scale.set(n.x,n.y)},115),setTimeout(()=>{d()},300)}}),o},y=l=>{const{spriteName:c,onClick:d}=l,{disableFlicker:s=!1}=l,r=l.onClickAudio??"select",o=l.alpha??.5,a=new u;a.label=`${c}-icon`,a.eventMode="static";const t=new b;t.circle(0,0,32),t.stroke({color:"khaki",width:4}),t.fill("khaki"),t.alpha=o,t.position.set(16,16),a.addChild(t);const i=k.from(`${c}.png`);return i.anchor.set(0),i.width=32,i.height=32,a.addChild(i),a.on("pointertap",()=>{d&&(d(),s||(t.alpha=1,C.delayedCall(.1,()=>t.alpha=o)),r!==""&&m.play(`audio/sfx/${r}.wav`,{category:"ui"}))}),a},z=({title:l,type:c,content:d,contentStyle:s,onClose:r,onConfirm:o,onCancel:a})=>{const t=new u,i=20;t.label="simple-modal",t.eventMode="static";const n=new f;n.text=l,n.style={fill:"white",fontSize:26,fontWeight:"bold",fontFamily:"alagard"},n.anchor.set(.5),n.position.set(0,0),t.addChild(n);const h=new f;h.style={fill:"white",fontSize:20,fontFamily:"alagard"},h.anchor.set(.5),h.text=c,h.position.set(0,n.height),t.addChild(h);const e=new f;e.text=d,e.style={fill:"white",fontSize:20,wordWrap:!0,wordWrapWidth:300,fontFamily:"alagard",...s},e.anchor.set(.5),e.position.set(0,h.y+h.height+e.height*.5),t.addChild(e);const p=y({spriteName:"confirm-icon",onClick:()=>{o&&o()}});p.position.set(e.x-e.width*.5+i*2,e.y+e.height+i),t.addChild(p);const g=y({spriteName:"cancel-icon",onClick:()=>{a&&a()}});g.position.set(e.x+e.width*.5-g.width-i,e.y+e.height+i),t.addChild(g),p.visible=o!==void 0,g.visible=a!==void 0;const x=p.visible?p.y+p.height:g.visible?g.y+g.height:e.y+e.height,w=new b;return w.rect(e.x-e.width*.5-i,n.y-n.height*.5-i,e.width+i*2,x+i*2),w.fill("maroon"),w.stroke({color:"black",width:3}),t.addChildAt(w,0),r&&t.on("pointertap",r),t};export{z as a,y as b,T as c};
